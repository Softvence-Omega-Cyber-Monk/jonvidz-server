model ShiftCheckList {
  id                String  @id @default(uuid())
  shiftType         String?
  selectType        String?
  full_e_cylinders  String?
  empty_e_cylinders String?

  patientCareAssignmentId String                @unique
  patientCareAssignment   PatientCareAssignment @relation(fields: [patientCareAssignmentId], references: [id], onDelete: Cascade)

  userId String? // <-- Make nullable
  user   User?   @relation(fields: [userId], references: [id])

  patientId String
  patient   Patient @relation(fields: [patientId], references: [id])

  comments  String? @db.Text
  signature String? @db.Text

  createdAt  DateTime            @default(now())
  updatedAt  DateTime            @updatedAt
  categories ChecklistCategory[]

  @@map("shift_check_list")
}

model ChecklistCategory {
  id               String          @id @default(uuid())
  selectType       String?
  name             String
  displayOrder     Int             @default(0)
  shiftCheckListId String
  shiftCheckList   ShiftCheckList  @relation(fields: [shiftCheckListId], references: [id], onDelete: Cascade)
  items            ChecklistItem[]
  createdAt        DateTime        @default(now())

  @@map("checklist_categories")
}

model ChecklistItem {
  id           String            @id @default(uuid())
  categoryId   String
  category     ChecklistCategory @relation(fields: [categoryId], references: [id], onDelete: Cascade)
  description  String
  itemType     String            @default("checkbox")
  displayOrder Int               @default(0)
  isRequired   Boolean           @default(false)

  isChecked Boolean? @default(false)

  createdAt DateTime @default(now())

  @@map("checklist_items")
}
